# 숨인재 (Hidden Talent)

**공공데이터 기반 청소년 스포츠 재능 발굴 플랫폼**

팀 이름: **숨어있는 재능을 찾아서**

2025년 국민체육진흥공단 공공데이터 활용 경진대회 출품작입니다.

> **라이브 데모**: https://hidden-talent-web.onrender.com
>
> **GitHub**: https://github.com/kspo-2025-opendata-contest/Hidden-Talent

### 테스트 계정

| 구분 | 이메일 | 비밀번호 |
|------|--------|----------|
| 일반 사용자 | `user@suminjae.com` | `User1234!` |
| 관리자 | `admin@suminjae.com` | `Admin1234!` |

---

## 공공데이터 활용 현황

> **본 프로젝트는 국민체육진흥공단에서 제공하는 5개 핵심 공공데이터셋을 활용하여**
> **청소년 스포츠 재능 발굴부터 프로그램 매칭, 정책 격차 분석까지 통합 서비스를 구현하였습니다.**

### 활용 데이터셋 상세

| # | 데이터셋명 | 파일명 | 레코드 수 | 활용 기능 |
|---|-----------|--------|----------|----------|
| 1 | **체력측정 및 운동처방 종합 데이터** | `체력측정 및 운동처방 종합 데이터(202505).csv` | 약 30,000건 | 재능 진단 알고리즘 |
| 2 | **청소년·유아동 체육시설 프로그램 정보** | `청소년_프로그램_*.csv` (4개 분할) | 약 200,000건 | 프로그램 매칭·검색 |
| 3 | **지역별 공공체육시설 보급현황** | `지역별공공체육시설보급현황정보(202507).csv` | 약 3,500건 | 시설 현황 대시보드 |
| 4 | **지역별 스포츠강좌이용권 활용정보** | `지역별스포츠강좌이용권활용정보(202507).csv` | 약 1,200건 | 정책 격차 분석 |
| 5 | **체육지도자 연도별 자격취득현황** | `체육지도자 연도별 자격취득현황 데이터(202508).csv` | 약 50건 | 지도자 통계 |

### 데이터셋별 활용 상세

#### 1. 체력측정 및 운동처방 종합 데이터 → **재능 진단 알고리즘**

```
[활용 컬럼]
- 악력(GRIP_STRENGTH), 윗몸일으키기(SIT_UPS), 제자리멀리뛰기(STANDING_LONG_JUMP)
- 20m 왕복달리기(SHUTTLE_RUN_20M), 좌전굴(SIT_AND_REACH)
- 연령(AGE), 성별(GENDER), 지역(REGION_SIDO, REGION_SIGUNGU)

[활용 방식]
1. 연령·성별 그룹별 체력 항목 분포 분석
2. 각 항목을 0~100점으로 정규화 (백분위 기반)
3. 종목별 가중치 적용하여 재능 점수 산출
   - 축구: 지구력(30%) + 순발력(25%) + 근력(20%) + 유연성(15%) + 악력(10%)
   - 농구: 순발력(30%) + 지구력(25%) + 근력(20%) + 유연성(15%) + 악력(15%)
   - ... (8개 종목 + 장애인 5개 종목)

[구현 파일]
- code/backend/app/services/scoring_service.py
- code/backend/app/routers/talent.py
```

#### 2. 청소년·유아동 체육시설 프로그램 정보 → **프로그램 매칭 시스템**

```
[활용 컬럼]
- 시설명(FCLTY_NM), 시설유형(FCLTY_FLAG_NM), 주소(FCLTY_ADDR)
- 위도/경도(FCLTY_LA, FCLTY_LO)
- 프로그램명(PROGRM_NM), 프로그램유형(PROGRM_TY_NM)
- 대상(PROGRM_TRGET_NM), 요일(PROGRM_ESTBL_WKDAY_NM)
- 가격(PROGRM_PRC), 정원(PROGRM_RCRIT_NMPR_CO)
- 시작/종료일(PROGRM_BEGIN_DE, PROGRM_END_DE)
- 지역(CTPRVN_NM, SIGNGU_NM)

[활용 방식]
1. 재능 진단 결과 상위 종목과 프로그램 유형 매칭
2. 사용자 지역 기반 단계적 검색:
   - 1단계: 사용자 등록 시/군/구 내 프로그램
   - 2단계: 같은 시/도 내 다른 구 프로그램
   - 3단계: 전국 프로그램
3. 필터링: 종목, 지역, 대상연령, 가격대, 요일

[구현 파일]
- code/backend/app/routers/programs.py
- code/backend/app/scripts/load_programs.py
```

#### 3. 지역별 공공체육시설 보급현황 → **시설 인프라 대시보드**

```
[활용 컬럼]
- 기준년월(BASE_YM), 시도(CTPRVN_NM), 시군구(SIGNGU_NM)
- 시설수(SIGNGU_ACCTO_FCLTY_CO), 인구수(SIGNGU_ACCTO_POPLTN_CO)
- 1인당 시설수(PSNBY_FCLTY_CO), 순위(PSNBY_FCL_CO_RANK_CO)

[활용 방식]
1. 전국 시·군·구별 체육시설 분포 시각화
2. 인구 대비 시설 보급률 계산 및 순위 표시
3. 인프라 취약 지역 식별 (정책 대시보드)
4. 수도권/비수도권 시설 격차 분석

[구현 파일]
- code/backend/app/routers/facilities.py
- code/backend/app/routers/dashboard.py
- code/backend/app/scripts/load_facility_stats.py
```

#### 4. 지역별 스포츠강좌이용권 활용정보 → **정책 격차 분석**

```
[활용 컬럼]
- 기준연도(BASE_YEAR), 시도(CTPRVN_NM), 시군구(SIGNGU_NM)
- 수혜유형(RECIPT_FLAG_NM): 일반, 장애인, 저소득층 등
- 대상인원(CRRSPND_FLAG_TRGET_NMPR_CO)
- 실수혜인원(CRRSPND_FLAG_RECIPT_NMPR_CO)

[활용 방식]
1. 지역별 스포츠강좌이용권 수혜율 계산
2. 재능 분포와 지원 수혜율 간 격차 분석
3. "재능은 많지만 지원이 부족한 지역" 도출
4. 장애인·저소득층 수혜 현황 분석

[구현 파일]
- code/backend/app/routers/dashboard.py
- code/backend/app/scripts/load_support_stats.py
```

#### 5. 체육지도자 연도별 자격취득현황 → **지도자 현황 통계**

```
[활용 컬럼]
- 자격취득연도(QUALF_YEAR)
- 건강운동관리사(HEALTH_MVM_MNGER_CO)
- 전문스포츠지도사 1급/2급(SCLS1/2_SPCLTY_SPORTS_INSTOR_CO)
- 생활스포츠지도사 1급/2급(SCLS1/2_LVLH_SPORTS_INSTOR_CO)
- 유소년스포츠지도사(YUTH_SPORTS_INSTOR_CO)
- 노인스포츠지도사(SNCTZ_SPORTS_INSTOR_CO)
- 장애인스포츠지도사 1급/2급(SCLS1/2_DSPSN_SPORTS_INSTOR_CO)

[활용 방식]
1. 연도별 체육지도자 자격 취득 추이 분석
2. 유소년/장애인 스포츠 지도자 비율 계산
3. 대시보드에서 지도자 공급 현황 표시

[구현 파일]
- code/backend/app/routers/dashboard.py
- code/backend/app/scripts/load_coach_stats.py
```

### 데이터 처리 파이프라인

```
┌─────────────────┐     ┌─────────────────┐     ┌─────────────────┐
│  공공데이터 CSV │ ──→ │  ETL 스크립트   │ ──→ │  PostgreSQL DB  │
│  (5개 데이터셋) │     │  (load_all.py)  │     │  (정규화 테이블) │
└─────────────────┘     └─────────────────┘     └─────────────────┘
                                                        │
        ┌───────────────────────────────────────────────┘
        ▼
┌─────────────────┐     ┌─────────────────┐     ┌─────────────────┐
│  FastAPI 서버   │ ──→ │  재능 스코어링  │ ──→ │  프론트엔드     │
│  (REST API)     │     │  + Gemini AI    │     │  (사용자 UI)    │
└─────────────────┘     └─────────────────┘     └─────────────────┘
```

### 데이터 품질 및 전처리

| 항목 | 처리 내용 |
|------|----------|
| **인코딩** | UTF-8-sig (한글 깨짐 방지) |
| **결측치** | NaN → 기본값(0) 또는 NULL 처리 |
| **날짜형식** | YYYYMMDD → Python date 변환 |
| **대용량 처리** | 청소년 프로그램 데이터 4개 파일로 분할 (GitHub 100MB 제한) |
| **청크 로딩** | 10,000건 단위 배치 삽입 (메모리 효율화) |

---

## 1. 프로젝트 개요

### 서비스 한 줄 정의

> 숨인재는 청소년의 체력측정 데이터를 기반으로
> "어떤 종목에 재능이 있을 가능성이 높은가?"를 점수화하고,
> 해당 재능을 키워줄 지도자·시설·프로그램·지원사업까지 한 번에 매칭해 주는 플랫폼입니다.

### 해결하고자 하는 문제

1. **재능 발굴의 편중**
   - 수도권, 체육 명문학교, 유명 클럽 중심으로 유망주 발굴이 이뤄지는 구조
   - 지방, 저소득층, 체육 비비중 학교 학생들은 운동을 잘해도 발굴되지 못하는 문제

2. **데이터 미활용**
   - 학교·체력인증센터 등에서 체력측정은 꾸준히 이루어지고 있으나
   - 이 데이터를 진로·재능 탐색, 종목 추천, 지원 연계에 활용하는 체계가 부재

3. **재능 → 육성으로 이어지는 파이프라인 부재**
   - "운동 잘하는 아이"를 알게 되어도
   - 어느 종목으로, 어떤 지도자에게, 어떤 시설과 지원사업으로 연결해야 할지 안내하는 시스템이 없음

4. **장애 학생의 스포츠 진로 지원 부재**
   - 장애 유형별 적합한 패럴림픽/장애인 스포츠 종목 안내 시스템 부재
   - 장애인 체육 프로그램 및 시설 정보 접근성 문제

---

## 2. 핵심 기능

### 2.1 종목별 재능 진단
- 학생의 체력측정 값(악력, 윗몸일으키기, 제자리멀리뛰기, 왕복달리기, 좌전굴 등)을 입력
- 연령·성별 기준으로 0~100점 정규화
- **비장애 학생**: 축구, 농구, 배구, 단거리 육상, 수영, 테니스, 태권도, 유도 등 8개 종목
- **장애 학생**: 장애 유형별 맞춤 패럴림픽/장애인 스포츠 종목 추천
  - 지체장애: 파라수영, 휠체어농구, 휠체어테니스, 보치아, 파라탁구
  - 시각장애: 골볼, 파라수영, 파라육상, 유도
  - 청각장애: 축구, 농구, 배구, 수영, 파라탁구
  - 지적장애: 파라수영, 파라육상, 파라탁구, 보치아
- **5단계 등급 시스템**: 최우수(상위 5%) / 우수(상위 15%) / 평균이상(상위 35%) / 평균(상위 65%) / 평균이하
- Gemini API를 활용한 AI 기반 맞춤형 코멘트 생성

### 2.2 지도자·시설·프로그램 매칭
- 재능 상위 종목에 대해 지역 내 청소년 대상 체육 프로그램 추천
- **지역 기반 단계적 검색**: 사용자 등록 지역 → 같은 시/도 내 다른 구 → 전국
- 공공체육시설 위치 및 현황 정보 제공
- 지역별 체육지도자 자격 현황 조회

### 2.3 재능–지원 격차 분석 대시보드 (기관/정책용)
- 지역·계층별 재능 분포와 스포츠강좌이용권 수혜 현황 비교
- **수도권/비수도권 분리 분석**: 서울 등 대도시 특성 고려
- 재능은 많지만 지원이 부족한 지역·집단을 시각화
- 지자체·공단의 예산·프로그램 우선 배분 대상 도출

### 2.4 회원가입 및 마이페이지
- 사용자 유형: 학생, 학부모, 지도자, 지자체/기관 담당자
- 마이페이지에서 재능 진단 이력, 추천 프로그램, 북마크, 알림 등 관리
- 진단 결과 클릭 시 맞춤 프로그램 추천 모달 제공

---

## 3. 사용 데이터셋

해커톤에서 제공된 약 140개 체육·스포츠 관련 공공데이터 중, 숨인재는 다음 핵심 그룹을 활용합니다.

| 데이터명 | 파일명 | 활용 목적 |
|---------|--------|----------|
| 체력측정 및 운동처방 종합 데이터 | `체력측정 및 운동처방 종합 데이터(202505).csv` | 연령별 체력 백분위 산출, 재능 스코어링 기초 지표 |
| 체육지도자 자격취득현황 | `체육지도자 연도별 자격취득현황 데이터(202508).csv` | 지역·종목별 지도자 풀 규모 파악 |
| 공공체육시설 보급현황 | `지역별공공체육시설보급현황정보(202507).csv` | 시·군·구별 시설 분포, 인프라 취약 지역 탐색 |
| 청소년·유아동 체육 프로그램 | `청소년 유아동 이용가능 체육시설 프로그램 정보(202510).csv` | 종목별, 지역별 훈련/클럽/교실 추천 |
| 스포츠강좌이용권 현황 | `지역별 스포츠강좌이용권 활용 정보(202505).csv` | 재능–지원 격차 분석 |

데이터 파일은 레포지토리의 `data/` 디렉터리에 저장하며, ETL 스크립트로 PostgreSQL DB에 적재합니다.

> **참고**: 용량이 큰 CSV 파일은 분할 저장되어 있습니다 (`*_part1.csv`, `*_part2.csv` 등)

---

## 4. 시스템 아키텍처

### 기술 스택

| 구분 | 기술 |
|------|------|
| 프론트엔드 | Vite + HTML/CSS/JS + Tailwind CSS |
| 백엔드 | FastAPI (Python 3.11) |
| 데이터베이스 | PostgreSQL |
| ORM | SQLAlchemy 2.x |
| 마이그레이션 | Alembic |
| 인증 | JWT (python-jose + bcrypt) |
| AI 코멘트 | Google Gemini API |

### 주요 흐름

```
1. 사용자 → 회원가입/로그인
2. 체력측정 값 입력 + 장애 유형 선택(선택사항) → 재능 진단 요청
3. 백엔드 → 종목별 가중치 적용 스코어링 계산 (장애 유형 고려)
4. Gemini API → AI 기반 맞춤 코멘트 생성
5. 같은 지역의 프로그램·시설 매칭 추천 (단계적 지역 검색)
6. 마이페이지에서 진단 이력 및 북마크 관리
7. 기관 담당자 → 대시보드에서 재능-지원 격차 분석
```

---

## 5. 재능 스코어링 알고리즘

### 5.1 체력 항목 점수화
- 악력, 윗몸일으키기, 제자리멀리뛰기, 20m 왕복달리기, 좌전굴 등을 0~100점으로 정규화
- 항목별 최소/최대값은 연령·성별 평균을 참고하여 설정

### 5.2 종목별 가중치 적용

```python
# 비장애 학생용 종목 가중치
SPORT_WEIGHTS = {
    "soccer": {"grip_strength": 0.1, "sit_ups": 0.2, "standing_long_jump": 0.25, "shuttle_run_20m": 0.3, "sit_and_reach": 0.15},
    "basketball": {"grip_strength": 0.15, "sit_ups": 0.15, "standing_long_jump": 0.3, "shuttle_run_20m": 0.25, "sit_and_reach": 0.15},
    # ... 8개 종목
}

# 장애 유형별 종목 가중치
DISABILITY_SPORT_WEIGHTS = {
    "physical": {  # 지체장애
        "para_swimming": {...},
        "wheelchair_basketball": {...},
        "wheelchair_tennis": {...},
        "boccia": {...},
        "para_table_tennis": {...},
    },
    "visual": {  # 시각장애
        "goalball": {...},
        "para_swimming": {...},
        "para_athletics": {...},
        "judo": {...},
    },
    # ... 청각장애, 지적장애
}
```

### 5.3 5단계 등급 시스템

| 등급 | 기준 | 백분위 |
|------|------|--------|
| 최우수 (excellent) | 90점 이상 | 상위 5% |
| 우수 (high) | 80점 이상 | 상위 15% |
| 평균이상 (above_average) | 65점 이상 | 상위 35% |
| 평균 (average) | 50점 이상 | 상위 65% |
| 평균이하 (below_average) | 50점 미만 | 하위 35% |

### 5.4 AI 코멘트 생성
- Gemini API를 통해 재능 결과에 대한 자연어 설명과 훈련 방향 코멘트 자동 생성

---

## 6. 디렉터리 구조

```bash
.
├── README.md                          # 프로젝트 문서 (공공데이터 활용 상세 포함)
└── code/
    ├── frontend/                      # 프론트엔드 (Vite + Tailwind)
    │   ├── index.html                # 메인 UI
    │   ├── public/
    │   │   ├── api.js                # API 클라이언트
    │   │   └── logo.jpeg             # 로고 이미지
    │   ├── package.json
    │   └── vite.config.ts
    │
    └── backend/                       # 백엔드 (FastAPI)
        ├── data/                      # 공공데이터 CSV 파일
        │   ├── 체력측정 및 운동처방 종합 데이터(202505).csv
        │   ├── 지역별공공체육시설보급현황정보(202507).csv
        │   ├── 지역별스포츠강좌이용권활용정보(202507).csv
        │   ├── 체육지도자 연도별 자격취득현황 데이터(202508).csv
        │   ├── 청소년_프로그램_aa.csv    # 분할 파일 1/4
        │   ├── 청소년_프로그램_ab.csv    # 분할 파일 2/4
        │   ├── 청소년_프로그램_ac.csv    # 분할 파일 3/4
        │   └── 청소년_프로그램_ad.csv    # 분할 파일 4/4
        ├── app/
        │   ├── main.py               # FastAPI 엔트리포인트
        │   ├── config.py             # 환경변수 설정
        │   ├── database.py           # SQLAlchemy 엔진/세션
        │   ├── dependencies.py       # JWT 인증 의존성
        │   ├── models/               # SQLAlchemy 모델
        │   ├── schemas/              # Pydantic 스키마
        │   ├── routers/              # API 라우터
        │   ├── services/             # 비즈니스 로직
        │   │   ├── scoring_service.py # 재능 스코어링 (장애인 종목 포함)
        │   │   └── gemini_client.py  # Gemini AI 연동
        │   └── scripts/              # ETL 스크립트
        │       ├── load_all.py       # 전체 데이터 로드
        │       ├── load_facility_stats.py
        │       ├── load_programs.py
        │       ├── load_coach_stats.py
        │       └── load_support_stats.py
        ├── alembic/                  # DB 마이그레이션
        ├── Dockerfile                # Docker 빌드 설정
        ├── start.sh                  # 서버 시작 스크립트 (마이그레이션 + 데이터 로드)
        ├── requirements.txt
        └── .env
```

---

## 7. 로컬 개발 환경 구성

### 7.1 사전 요구사항
- Python 3.11+
- Node.js 18+
- PostgreSQL 14+

### 7.2 데이터베이스 생성

```bash
createdb suminjae
```

### 7.3 백엔드 설정

```bash
cd code/backend

# 가상환경 생성 및 활성화
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# 패키지 설치
pip install -r requirements.txt

# 환경변수 설정 (.env 파일 생성)
cat > .env << EOF
DATABASE_URL=postgresql+psycopg://사용자명@localhost:5432/suminjae
JWT_SECRET=your-secret-key-change-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=1440
GEMINI_API_KEY=your-gemini-api-key
DEBUG=true
EOF

# DB 마이그레이션
alembic upgrade head

# 데이터 적재 (ETL)
python -m app.scripts.load_all --programs-limit 5000

# 서버 실행
uvicorn app.main:app --reload --port 8000
```

- API 문서: http://localhost:8000/docs
- 헬스체크: http://localhost:8000/health

### 7.4 프론트엔드 설정

```bash
cd code/frontend

# 패키지 설치
npm install

# 개발 서버 실행
npm run dev
```

- 개발 서버: http://localhost:3000

---

## 8. API 엔드포인트

### 인증 API (`/api/auth`)
| Method | Endpoint | 설명 |
|--------|----------|------|
| POST | `/signup` | 회원가입 |
| POST | `/login` | 로그인 |
| GET | `/me` | 현재 사용자 정보 |

### 재능 진단 API (`/api/talent`)
| Method | Endpoint | 설명 |
|--------|----------|------|
| POST | `/score` | 체력 데이터 기반 재능 진단 (장애 유형 지원) |
| GET | `/tests` | 내 진단 이력 조회 |
| GET | `/tests/{id}` | 진단 결과 상세 조회 |

### 프로그램 API (`/api/programs`)
| Method | Endpoint | 설명 |
|--------|----------|------|
| GET | `/` | 프로그램 목록 (필터/검색/페이지네이션) |
| GET | `/{id}` | 프로그램 상세 |
| GET | `/regions/list` | 지역 목록 |
| GET | `/types/list` | 프로그램 유형 목록 |

### 시설 API (`/api/facilities`)
| Method | Endpoint | 설명 |
|--------|----------|------|
| GET | `/` | 시설 통계 목록 |
| GET | `/regions` | 지역 목록 |
| GET | `/summary` | 전국 요약 통계 |

### 대시보드 API (`/api/dashboard`)
| Method | Endpoint | 설명 |
|--------|----------|------|
| GET | `/summary` | 전체 현황 요약 |
| GET | `/regions` | 지역별 통계 |
| GET | `/coaches` | 체육지도자 통계 |

### 마이페이지 API (`/api/me`)
| Method | Endpoint | 설명 |
|--------|----------|------|
| GET | `/overview` | 마이페이지 개요 |
| GET | `/bookmarks` | 북마크 목록 |
| POST | `/bookmarks` | 북마크 추가 |
| DELETE | `/bookmarks/{id}` | 북마크 삭제 |
| GET | `/notifications` | 알림 목록 |
| POST | `/notifications/{id}/read` | 알림 읽음 처리 |

---

## 9. 주요 업데이트 내역

### v1.1 (2025-12-07)
- **5단계 등급 시스템 도입**: 기존 3단계(상/중/하)에서 5단계(최우수/우수/평균이상/평균/평균이하)로 세분화
- **장애인 스포츠 지원**: 4가지 장애 유형(지체/시각/청각/지적)별 맞춤 종목 추천
- **지역 기반 프로그램 매칭 개선**: 단계적 검색 로직 (사용자 지역 → 같은 시/도 → 전국)
- **대시보드 정책 격차 분석 강화**: 수도권/비수도권 분리 분석
- **메인 페이지 예시 카드 확장**: 비장애/장애 학생 각 2명씩 총 4개 예시

---

## 10. 향후 고도화 계획

1. **통계 기반 재능 스코어링 고도화**
   - 체력측정 종합 데이터를 활용하여 연령·성별별 실제 분포 계산
   - 표준점수, 백분위 기반 등급화 로직으로 교체

2. **종목 확장 및 세분화**
   - 양궁, 골프 등 점진적 확장
   - 장애인 종목 추가 (휠체어럭비, 사이클 등)

3. **지도자·프로그램 데이터 품질 개선**
   - 좌표 및 시·군·구 정규화
   - 장애인 전용 프로그램 태깅

4. **권한 및 역할 기반 화면 분리**
   - 학생/학부모, 지도자, 기관 담당자별 접근 가능한 메뉴와 데이터 범위 세분화

5. **실서비스 전환**
   - 이메일 인증, 비밀번호 재설정
   - 로그·모니터링 추가
   - 클라우드 배포

---

## 11. 팀 소개

- **팀 이름**: 숨어있는 재능을 찾아서
- **목표**:
  - 공공데이터를 활용해 지역·계층·장애에 관계없이 숨은 스포츠 인재를 공정하게 발굴
  - 재능 발굴에서 끝나지 않고 실제 육성 경로까지 잇는 레퍼런스 모델 구축

### 팀원 및 역할

| 이름 | 역할 |
|------|------|
| 신주용 | PM, 풀스택 개발, 데이터 분석 |
| 강지나 | 프론트엔드 개발, UI/UX 디자인 |
| 김현웅 | 데이터 모델링, DB 설계 |
| 송민지 | 백엔드 개발 |

---

## 라이선스

이 프로젝트는 2025년 국민체육진흥공단 공공데이터 활용 경진대회 출품작입니다.

제안, 이슈, 개선 아이디어는 언제든지 GitHub Issues로 남겨 주세요.
